# Test charm that provides SLO specifications

name: sloth-test-provider
type: charm
summary: Test charm for Sloth provider functionality
description: |
  A test charm that provides SLO specifications using the sloth library.
  Used for integration testing of the Sloth provider/requirer relationship.

base: ubuntu@24.04
platforms:
  amd64:

parts:
  charm:
    source: .
    plugin: uv
    build-snaps: [astral-uv]

config:
  options:
    slo-service-name:
      type: string
      default: "test-service"
      description: Name of the service for the SLO specification
    slo-objective:
      type: string
      default: "99.9"
      description: SLO objective percentage (e.g., 99.9 for 99.9%)

provides:
  sloth:
    interface: sloth

containers:
  workload:
    resource: workload

resources:
  workload:
    type: oci-image
    description: OCI image for the 'workload' container
    upstream-source: ubuntu:latest
